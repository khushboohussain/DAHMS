{"version":3,"sources":["webpack:///./src/app/employee/onboarding/onboarding.module.ts","webpack:///./src/app/employee/onboarding/onboarding.page.html","webpack:///./src/app/employee/onboarding/onboarding.page.scss","webpack:///./src/app/employee/onboarding/onboarding.page.ts"],"names":[],"mappings":"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","file":"employee-onboarding-onboarding-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OnboardingPage } from './onboarding.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OnboardingPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [OnboardingPage]\n})\nexport class OnboardingPageModule {}\n","module.exports = \"<ion-content>\\n  <div class=\\\"main\\\">\\n    <div class=\\\"header container\\\">\\n      <div class=\\\"logo\\\">\\n        <p>medApp</p>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"content\\\">\\n      <div class=\\\"title container\\\">\\n        <h1>Erste Schritte</h1>\\n        <div class=\\\"text\\\">\\n          <p></p>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"general\\\">\\n        <form [formGroup]=\\\"form\\\">\\n          <div class=\\\"personal-data\\\">\\n            <ion-list>\\n              <div class=\\\"grid-1\\\">\\n                <!-- profile image -->\\n                <ion-item lines=\\\"none\\\">\\n                  <ion-label position=\\\"stacked\\\">Profilbild</ion-label>\\n                  <div class=\\\"profile-image container\\\">\\n                    <img src=\\\"{{image || base64Image}} \\\" (click)=\\\"choosePicture()\\\" id=\\\"profileImage\\\">\\n                    <input type=\\\"file\\\" (change)=\\\"upload($event)\\\" accept=\\\".png,.jpg\\\" style=\\\"visibility: hidden;\\\">\\n                  </div>\\n                </ion-item>\\n              </div>\\n\\n              <!-- address -->\\n              <ion-item lines=\\\"none\\\">\\n                <ion-label position=\\\"stacked\\\">Adresse</ion-label>\\n                <ion-input type=\\\"text\\\" clearInput formControlName=\\\"adresse\\\"></ion-input>\\n              </ion-item>\\n\\n              <!-- phone number -->\\n              <ion-item lines=\\\"none\\\">\\n                <ion-label position=\\\"stacked\\\">Telefonnumer</ion-label>\\n                <ion-input type=\\\"text\\\" clearInput autocapitalize=\\\"word\\\" formControlName=\\\"telefonnumer\\\" autocomplete autocorrect></ion-input>\\n              </ion-item>\\n\\n              <!-- association-->\\n              <ion-item lines=\\\"none\\\">\\n                <ion-label position=\\\"stacked\\\">Zugehörigkeit Hi. Orga.</ion-label>\\n                <ion-input type=\\\"text\\\" clearInput formControlName=\\\"zugehörigkeit\\\"></ion-input>\\n              </ion-item>\\n\\n              <!-- max. work radius -->\\n              <ion-item lines=\\\"none\\\">\\n                <ion-label position=\\\"stacked\\\">Max. Einsatzradius</ion-label>\\n                <ion-select cancelText=\\\"Abbrechen\\\" okText=\\\"Fertig\\\" formControlName=\\\"Einsatzradius\\\">\\n                  <ion-select-option>10km</ion-select-option>\\n                  <ion-select-option>25km</ion-select-option>\\n                  <ion-select-option>50km</ion-select-option>\\n                </ion-select>\\n              </ion-item>\\n\\n              <!-- passport -->\\n              <ion-item lines=\\\"none\\\">\\n                <ion-label position=\\\"stacked\\\">Ausweis</ion-label>\\n                <ion-input type=\\\"file\\\" (change)=\\\"uploadFile($event, 0)\\\" placeholder=\\\"Ausweis Vorderseite hochladen\\\"></ion-input>\\n                <ion-input type=\\\"file\\\" (change)=\\\"uploadFile($event, 1)\\\" placeholder=\\\"Ausweis Rückseite hochladen\\\"></ion-input>\\n              </ion-item>\\n            </ion-list>\\n          </div>\\n          \\n          <div class=\\\"divider\\\"></div>\\n\\n          <!-- qualifications -->\\n          <div class=\\\"qualifications-data\\\">\\n            <div class=\\\"title container\\\">\\n              <h3>Qualfikationen</h3>\\n            </div>\\n            <ion-list>\\n              <!-- personal qualifications -->\\n              <ion-item lines=\\\"none\\\">\\n                <ion-label position=\\\"stacked\\\">Persönliche Qualifikation</ion-label>\\n                <ion-select cancelText=\\\"Abbrechen\\\" okText=\\\"Fertig\\\" formControlName=\\\"qualifikation\\\">\\n                  <ion-select-option value=\\\"SANITAETSHELFER\\\">Sanitätshelfer</ion-select-option>\\n                  <ion-select-option value=\\\"RETTUNGSHELFER\\\">Rettungshelfer</ion-select-option>\\n                  <ion-select-option value=\\\"RETTUNGSSANITAETER\\\">Rettungssanitäter</ion-select-option>\\n                  <ion-select-option value=\\\"RETTUNGSASSISTENT\\\">Rettungsassistent</ion-select-option>\\n                  <ion-select-option value=\\\"NOTFALLSANITAETER\\\">Notfallsanitäter</ion-select-option>\\n                  <ion-select-option value=\\\"ARZT\\\">Arzt</ion-select-option>\\n                  <ion-select-option value=\\\"ARZTRETTUNGSDIENST\\\">Arzt im Rettungsdienst</ion-select-option>\\n                </ion-select>\\n\\n                <!-- qualification certificate -->\\n                <ion-input type=\\\"file\\\" (change)=\\\"uploadFile($event, 2)\\\" placeholder=\\\"Qualifikationsnachweis hochladen\\\"></ion-input>\\n\\n                <!-- training certificate -->\\n                <ion-input type=\\\"file\\\" (change)=\\\"uploadFile($event, 3)\\\" placeholder=\\\"Fortbildungsnachweis hochladen\\\"></ion-input>\\n              </ion-item>\\n\\n              <!-- driving license -->\\n              <ion-item lines=\\\"none\\\">\\n                <ion-label position=\\\"stacked\\\">Führerscheinklasse</ion-label>\\n                <ion-select cancelText=\\\"Abbrechen\\\" okText=\\\"Fertig\\\" formControlName=\\\"führerscheinklasse\\\">\\n                  <ion-select-option value=\\\"NO\\\">Kein Führerschein</ion-select-option>\\n                  <ion-select-option value=\\\"BENEFICIAL\\\">Führerschein vorteilhaft</ion-select-option>\\n                  <ion-select-option value=\\\"B\\\">B</ion-select-option>\\n                  <ion-select-option value=\\\"B1\\\">B1</ion-select-option>\\n                </ion-select> \\n  \\n                <!-- Show only if first option is not selected, driving license certificate -->\\n                <ion-input type=\\\"file\\\" (change)=\\\"uploadFile($event, 4)\\\" placeholder=\\\"Führerschein Vorderseite hochladen\\\"></ion-input>\\n                <ion-input type=\\\"file\\\" (change)=\\\"uploadFile($event, 5)\\\" placeholder=\\\"Führerschein Rückseite hochladen\\\"></ion-input>\\n              </ion-item>\\n              \\n              <!-- other qualification -->\\n              <ion-item lines=\\\"none\\\" *ngFor=\\\"let item of field; let i = index;\\\">\\n                <ion-label position=\\\"stacked\\\">Sonstige Qualifikation (optional)</ion-label>\\n\\n                <!-- name of qualification -->\\n                <ion-input type=\\\"text\\\" clearInput [(ngModel)]=\\\"item.text\\\" [ngModelOptions]=\\\"{standalone: true}\\\"></ion-input>\\n\\n                <!-- other qualification certificate -->\\n                <ion-input type=\\\"file\\\" (change)=\\\"uploadFile($event, 6, i)\\\" placeholder=\\\"Qualifikationsnachweis\\\"></ion-input>\\n              </ion-item>\\n\\n              <!-- add another other qualification -->\\n              <div class=\\\"add-new container\\\" (click)=\\\"addNewfield()\\\">\\n                <ion-icon name=\\\"add\\\"></ion-icon><p>Weitere sonstige Qualifikation hinzufügen</p>\\n              </div>\\n            </ion-list>\\n          </div>\\n          \\n          <!-- finish onboarding -->\\n          <div class=\\\"container\\\">\\n            <ion-button color=\\\"primary\\\" expand=\\\"block\\\" (click)=\\\"submit(form)\\\">Einrichtung abschließen</ion-button>\\n          </div>\\n          \\n        </form>\\n      </div>\\n      \\n    </div>\\n  </div>\\n</ion-content>\"","module.exports = \".profile-image {\\n  margin-bottom: 12px;\\n  width: 100%; }\\n  .profile-image img {\\n    -o-object-fit: cover;\\n       object-fit: cover;\\n    height: 124px;\\n    width: 124px;\\n    max-width: unset;\\n    border-radius: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZW1wbG95ZWUvb25ib2FyZGluZy9EOlxcS29kZUFscGhhXFxXb3Jrc3BhY2VcXFByb2plY3RzXFxEQUhNU1xcVGVzdFxcU2FhZC9zcmNcXGFwcFxcZW1wbG95ZWVcXG9uYm9hcmRpbmdcXG9uYm9hcmRpbmcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0VBQ25CLFdBQVcsRUFBQTtFQUZiO0lBS0ksb0JBQWlCO09BQWpCLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2VtcGxveWVlL29uYm9hcmRpbmcvb25ib2FyZGluZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucHJvZmlsZS1pbWFnZSB7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG4gIHdpZHRoOiAxMDAlO1xuXG4gIGltZyB7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgaGVpZ2h0OiAxMjRweDtcbiAgICB3aWR0aDogMTI0cHg7XG4gICAgbWF4LXdpZHRoOiB1bnNldDtcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICB9XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { HelperService } from 'src/app/services/helper.service';\nimport { AngularFireStorage, AngularFireStorageReference, AngularFireUploadTask } from '@angular/fire/storage';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { finalize } from 'rxjs/operators';\nimport { ApiService } from 'src/app/services/api.service';\nimport { UploadTaskSnapshot } from '@angular/fire/storage/interfaces';\n\n@Component({\n  selector: 'app-onboarding',\n  templateUrl: './onboarding.page.html',\n  styleUrls: ['./onboarding.page.scss'],\n})\nexport class OnboardingPage implements OnInit {\n\n  constructor(private navController: NavController, private helper: HelperService, private fb: FormBuilder, private fireStorage: AngularFireStorage, private router: Router, private api: ApiService) { }\n\n  form: FormGroup;\n  base64Image;\n  image = 'assets/profile.jpg';\n  sourcex;\n  ref: AngularFireStorageReference;\n  task: AngularFireUploadTask;\n  uploadImageId;\n  data;\n  file;\n  filepath;\n  fileID;\n  fileArr = [];\n  blob: Blob;\n  field = [];\n\n  // navigateHome() {\n  //   this.navController.navigateRoot(\"/employee/appointments\");\n  // }\n\n  promises = [];\n\n  urls = [];\n\n  ngOnInit() {\n    let x: File;\n    this.field.push({\n      text: '',\n      file: x\n    });\n    this.form = this.fb.group({\n      adresse: ['', Validators.required],\n      telefonnumer: ['', Validators.required],\n      zugehörigkeit: ['', Validators.required],\n      Einsatzradius: ['', Validators.required],\n      qualifikation: ['', Validators.required],\n      führerscheinklasse: ['', Validators.required],\n      image: ['', Validators.required]\n    });\n  }\n\n  submit(form) {\n    console.log(form);\n    this.data = {\n      adresse: form.value.adresse,\n      telefonnumer: form.value.telefonnumer,\n      zugehörigkeit: form.value.zugehörigkeit,\n      Einsatzradius: form.value.Einsatzradius,\n      qualifikation: form.value.qualifikation,\n      führerscheinklasse: form.value.führerscheinklasse,\n      sonstige: this.field[0].text,\n      imageURL: '',\n      imageId: '',\n      files: [],\n      qualification: []\n    };\n    this.helper.presentToast('');\n    // this.helper.presentLoading();\n\n    console.log(this.field);\n    console.log(this.fileArr);\n\n\n    this.field.forEach(a => {\n      this.data.qualification.push(a.text);\n      if (a.file) {\n        this.fileArr.push(a.file);\n      }\n    });\n\n    this.fileArr.forEach((a, i) => {\n      this.fileID = Math.floor(Date.now());\n      this.ref = this.fireStorage.ref('Files/' + this.fileID);\n      this.task = this.ref.put(a);\n      this.promises.push(this.task);\n      this.urls.push({ ref: this.ref, index: i, fileId: this.fileID, name: a.name });\n      localStorage.setItem('fID', this.fileID);\n\n      this.task.snapshotChanges().subscribe();\n\n    });\n\n    Promise.all(\n      this.promises\n    )\n      .then((url: Array<any>) => {\n        this.urls.forEach(a => {\n          a.ref.getDownloadURL().subscribe(res => {\n            this.data.files.push({\n              fileURL: res,\n              fileID: a.fileId,\n              name: a.name\n            });\n          });\n        });\n        this.uploadImage();\n      })\n      .catch((error) => {\n        console.log(`Some failed: `, error.message);\n      });\n  }\n\n  choosePicture() {\n    const element: HTMLElement = document.querySelector('input[type=\"file\"]') as HTMLElement;\n    element.click();\n  }\n\n  upload(event) {\n    const x: any = document.getElementById('profileImage');\n    x.src = URL.createObjectURL(event.target.files[0]);\n    this.convert(event.target.files[0]);\n  }\n\n  convert(file: File) {\n    const reader: FileReader = new FileReader();\n    reader.readAsDataURL(file);\n    try {\n      reader.onload = (): void => {\n        const base64String: string = (reader.result as string).match(\n          /.+;base64,(.+)/\n        )[1];\n        this.base64Image = base64String;\n        this.form.controls['image'].setValue(this.base64Image);\n      };\n    } catch (e) {\n      // no error\n    }\n  }\n\n  uploadImage() {\n    this.uploadImageId = Math.floor(Date.now());\n    this.ref = this.fireStorage.ref(`Thumbnails/${this.uploadImageId}`);\n    const task = this.ref.putString('data:image/jpeg;base64,' + this.base64Image, 'data_url');\n    task.snapshotChanges()\n      .pipe(finalize(() => {\n        this.ref.getDownloadURL().subscribe(url => {\n          this.image = url;\n          if (this.image !== '') {\n            this.data.imageURL = this.image;\n            this.data.imageId = this.uploadImageId;\n            localStorage.setItem('imgid', this.data.imageId);\n            this.createEmplyee();\n          }\n        });\n      })).subscribe();\n  }\n\n  uploadFile(event, val, i?) {\n    // this.fileID = Math.floor(Date.now());\n    if (i && i > 0) {\n      this.field[i].file = event.target.files[0];\n      return;\n    } else {\n      this.fileArr[val] = event.target.files[0];\n    }\n    // this.filepath=(`files'/${this.fileID}`);\n    // this.ref=this.fireStorage.ref(this.filepath);\n    // this.task= this.ref.put(this.file);\n  }\n\n  // async uploadAllFiles(item,i){\n  //   this.fileID = Math.floor(Date.now());\n  //   this.ref = this.fireStorage.ref('Files/'+this.fileID);\n  //   this.task = this.ref.put(item);\n  //   await this.task.snapshotChanges().pipe(\n  //     finalize( async() => {\n  //      await this.ref.getDownloadURL().subscribe( (url) => {\n  //        this.urls[i] =url;\n  //        console.log(url);\n  //        return Promise.resolve(url);\n  //       });\n  //     })\n  //   ).subscribe();\n  // }\n\n  createEmplyee() {\n\n    this.api.updateEmployee(localStorage.getItem('uid'), this.data)\n      .then(after => {\n        this.router.navigate(['employee/appointments']);\n      });\n  }\n\n  addNewfield() {\n    this.field.push({\n      text: '',\n      file: ''\n    });\n  }\n}\n\n\n/*\n[\n  {\n    text: '',\n    file: ''\n  }\n]\n*/\n"],"sourceRoot":""}